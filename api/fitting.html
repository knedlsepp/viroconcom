<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>viroconcom.fitting module &#8212; viroconcom 0.1.0 documentation</title>
    <link rel="stylesheet" href="../_static/pydoctheme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/sidebar.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <link rel="shortcut icon" type="image/png" href="../_static/mini_logo.png" />
    <meta name="viewport" content="width=device-width,initial-scale=0.8">
    
    

  </head><body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="responsive-menu"><a href="#sidebar-anchor" title="Navigation">&#9776;</a></li>
        <li><a href="../index.html">viroconcom 0.1.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-viroconcom.fitting">
<span id="viroconcom-fitting-module"></span><h1>viroconcom.fitting module<a class="headerlink" href="#module-viroconcom.fitting" title="Permalink to this headline">¶</a></h1>
<p>Fit distribution to data.</p>
<dl class="class">
<dt id="viroconcom.fitting.Fit">
<em class="property">class </em><code class="descclassname">viroconcom.fitting.</code><code class="descname">Fit</code><span class="sig-paren">(</span><em>samples</em>, <em>dist_descriptions</em>, <em>timeout=1000000.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/viroconcom/fitting.html#Fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viroconcom.fitting.Fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3.6/library/functions.html#object" title="(in Python v3.6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Holds data and information about a fit.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The fitted results are not checked for correctness. The created distributions may not contain
useful parameters. Distribution parameters are being checked in the contour creation process.</p>
</div>
<dl class="attribute">
<dt id="viroconcom.fitting.Fit.mul_var_dist">
<code class="descname">mul_var_dist</code><a class="headerlink" href="#viroconcom.fitting.Fit.mul_var_dist" title="Permalink to this definition">¶</a></dt>
<dd><p><em>MultivariateDistribution,</em> – Distribution that is calculated</p>
</dd></dl>

<dl class="attribute">
<dt id="viroconcom.fitting.Fit.multiple_fit_inspection_data">
<code class="descname">multiple_fit_inspection_data</code><a class="headerlink" href="#viroconcom.fitting.Fit.multiple_fit_inspection_data" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list of FitInspectionData,</em> – Contains fit inspection data objects for each dimension.</p>
</dd></dl>

<p class="rubric">Examples</p>
<p>Create a Fit and visualize the result in a IFORM contour:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">multiprocessing</span> <span class="k">import</span> <span class="n">Pool</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">statsmodels.api</span> <span class="k">as</span> <span class="nn">sm</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">scipy.stats</span> <span class="k">as</span> <span class="nn">sts</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">scipy.optimize</span> <span class="k">import</span> <span class="n">curve_fit</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">viroconcom.params</span> <span class="k">import</span> <span class="n">ConstantParam</span><span class="p">,</span> <span class="n">FunctionParam</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">viroconcom.distributions</span> <span class="k">import</span> <span class="p">(</span><span class="n">WeibullDistribution</span><span class="p">,</span>                                           <span class="n">LognormalDistribution</span><span class="p">,</span>                                           <span class="n">NormalDistribution</span><span class="p">,</span>                                           <span class="n">KernelDensityDistribution</span><span class="p">,</span>                                           <span class="n">MultivariateDistribution</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">viroconcom.contours</span> <span class="k">import</span> <span class="n">IFormContour</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prng</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">RandomState</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample_1</span> <span class="o">=</span> <span class="n">prng</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample_2</span> <span class="o">=</span> <span class="p">[</span><span class="n">point</span> <span class="o">+</span> <span class="n">prng</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span> <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">sample_1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dist_description_1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;KernelDensity&#39;</span><span class="p">,</span> <span class="s1">&#39;dependency&#39;</span><span class="p">:</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s1">&#39;number_of_intervals&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dist_description_2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Normal&#39;</span><span class="p">,</span> <span class="s1">&#39;dependency&#39;</span><span class="p">:</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s1">&#39;functions&#39;</span><span class="p">:(</span><span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;f1&#39;</span><span class="p">,</span> <span class="kc">None</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_fit</span> <span class="o">=</span> <span class="n">Fit</span><span class="p">((</span><span class="n">sample_1</span><span class="p">,</span> <span class="n">sample_2</span><span class="p">),</span> <span class="p">(</span><span class="n">dist_description_1</span><span class="p">,</span> <span class="n">dist_description_2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_contour</span> <span class="o">=</span> <span class="n">IFormContour</span><span class="p">(</span><span class="n">my_fit</span><span class="o">.</span><span class="n">mul_var_dist</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#example_plot = plt.scatter(my_contour.coordinates[0][0], my_contour.coordinates[0][1], label=&quot;IForm&quot;)</span>
</pre></div>
</div>
<p>Create a Fit and visualize the result in a HDC contour:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">viroconcom.contours</span> <span class="k">import</span> <span class="n">HighestDensityContour</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample_3</span> <span class="o">=</span> <span class="n">prng</span><span class="o">.</span><span class="n">weibull</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span> <span class="o">+</span> <span class="mi">15</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample_4</span> <span class="o">=</span> <span class="p">[</span><span class="n">point</span> <span class="o">+</span> <span class="n">prng</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="k">for</span> <span class="n">point</span> <span class="ow">in</span> <span class="n">sample_1</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dist_description_1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Weibull&#39;</span><span class="p">,</span> <span class="s1">&#39;dependency&#39;</span><span class="p">:</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dist_description_2</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Normal&#39;</span><span class="p">,</span> <span class="s1">&#39;dependency&#39;</span><span class="p">:</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_fit</span> <span class="o">=</span> <span class="n">Fit</span><span class="p">((</span><span class="n">sample_3</span><span class="p">,</span> <span class="n">sample_4</span><span class="p">),</span> <span class="p">(</span><span class="n">dist_description_1</span><span class="p">,</span> <span class="n">dist_description_2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">return_period</span> <span class="o">=</span> <span class="mi">50</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">state_duration</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">limits</span> <span class="o">=</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">deltas</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_contour</span> <span class="o">=</span> <span class="n">HighestDensityContour</span><span class="p">(</span><span class="n">my_fit</span><span class="o">.</span><span class="n">mul_var_dist</span><span class="p">,</span> <span class="n">return_period</span><span class="p">,</span> <span class="n">state_duration</span><span class="p">,</span> <span class="n">limits</span><span class="p">,</span> <span class="n">deltas</span><span class="p">,)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#example_plot2 = plt.scatter(my_contour.coordinates[0][0], my_contour.coordinates[0][1], label=&quot;HDC&quot;)</span>
</pre></div>
</div>
<p>An Example how to visualize how good your fit is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">dist_description_0</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Weibull&#39;</span><span class="p">,</span> <span class="s1">&#39;dependency&#39;</span><span class="p">:</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">),</span> <span class="s1">&#39;number_of_intervals&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">dist_description_1</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="s1">&#39;Lognormal_1&#39;</span><span class="p">,</span> <span class="s1">&#39;dependency&#39;</span><span class="p">:</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="s1">&#39;functions&#39;</span><span class="p">:</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">,</span> <span class="s1">&#39;f2&#39;</span><span class="p">)}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">my_fit</span> <span class="o">=</span> <span class="n">Fit</span><span class="p">((</span><span class="n">sample_1</span><span class="p">,</span> <span class="n">sample_2</span><span class="p">),</span> <span class="p">(</span><span class="n">dist_description_0</span><span class="p">,</span> <span class="n">dist_description_1</span><span class="p">))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#fig = plt.figure(figsize=(10, 8))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#example_text = fig.suptitle(&quot;Dependence of &#39;scale&#39;&quot;)</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ax_1 = fig.add_subplot(221)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#title1 = ax_1.set_title(&quot;Fitted curve&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">param_grid</span> <span class="o">=</span> <span class="n">my_fit</span><span class="o">.</span><span class="n">multiple_fit_inspection_data</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scale_at</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">x_1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ax1_plot = ax_1.plot(param_grid, my_fit.multiple_fit_inspection_data[0].scale_value, &#39;x&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#example_plot1 = ax_1.plot(x_1, my_fit.mul_var_dist.distributions[1].scale(x_1))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ax_2 = fig.add_subplot(222)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#title2 = ax_2.set_title(&quot;Distribution &#39;1&#39;&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ax2_hist = ax_2.hist(my_fit.multiple_fit_inspection_data[1].scale_samples[0], normed=1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shape</span> <span class="o">=</span> <span class="n">my_fit</span><span class="o">.</span><span class="n">mul_var_dist</span><span class="o">.</span><span class="n">distributions</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scale</span> <span class="o">=</span> <span class="n">my_fit</span><span class="o">.</span><span class="n">mul_var_dist</span><span class="o">.</span><span class="n">distributions</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">param_grid</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ax2_plot = ax_2.plot(np.linspace(0, 20, 100), sts.lognorm.pdf(np.linspace(0, 20, 100), s=shape, scale=scale))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ax_3 = fig.add_subplot(223)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#title3 = ax_3.set_title(&quot;Distribution &#39;2&#39;&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ax3_hist = ax_3.hist(my_fit.multiple_fit_inspection_data[1].scale_samples[1], normed=1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shape</span> <span class="o">=</span> <span class="n">my_fit</span><span class="o">.</span><span class="n">mul_var_dist</span><span class="o">.</span><span class="n">distributions</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scale</span> <span class="o">=</span> <span class="n">my_fit</span><span class="o">.</span><span class="n">mul_var_dist</span><span class="o">.</span><span class="n">distributions</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">param_grid</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ax3_plot = ax_3.plot(np.linspace(0, 20, 100), sts.lognorm.pdf(np.linspace(0, 20, 100), s=shape, scale=scale))</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ax_4 = fig.add_subplot(224)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#title4 = ax_4.set_title(&quot;Distribution &#39;3&#39;&quot;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ax4_hist = ax_4.hist(my_fit.multiple_fit_inspection_data[1].scale_samples[2], normed=1)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">shape</span> <span class="o">=</span> <span class="n">my_fit</span><span class="o">.</span><span class="n">mul_var_dist</span><span class="o">.</span><span class="n">distributions</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">shape</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">scale</span> <span class="o">=</span> <span class="n">my_fit</span><span class="o">.</span><span class="n">mul_var_dist</span><span class="o">.</span><span class="n">distributions</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">param_grid</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1">#ax4_plot = ax_4.plot(np.linspace(0, 20, 100), sts.lognorm.pdf(np.linspace(0, 20, 100), s=shape, scale=scale))</span>
</pre></div>
</div>
<dl class="method">
<dt id="viroconcom.fitting.Fit.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>samples</em>, <em>dist_descriptions</em>, <em>timeout=1000000.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/viroconcom/fitting.html#Fit.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viroconcom.fitting.Fit.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Fit, by computing the distribution that describes the samples ‘best’.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>samples</strong> (<em>list of list</em><em>,</em>) – <dl class="docutils">
<dt>List that contains data to be fitted <span class="classifier-delimiter">:</span> <span class="classifier">samples[0] -&gt; first variable (i.e. wave height)</span></dt>
<dd>samples[1] -&gt; second variable
…</dd>
</dl>
</li>
<li><strong>dist_descriptions</strong> (<em>list of dict</em><em>,</em>) – contains dictionary for each parameter. See note for further information.</li>
<li><strong>timeout</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>, </em><em>optional</em>) – The maximum time in seconds there the contour has to be computed. Defaults to 1e6.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal notranslate"><span class="pre">TimeoutError,</span></code> – If the calculation takes too long and the given value for timeout is exceeded.</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>dist_descriptions contains the following keys:</p>
<dl class="docutils">
<dt>name <span class="classifier-delimiter">:</span> <span class="classifier">str,</span></dt>
<dd><p class="first">name of distribution:</p>
<ul class="last simple">
<li>Weibull</li>
<li>Lognormal_1 (shape, scale)</li>
<li>Lognormal_2 (sigma, mu),</li>
<li>Normal</li>
<li>KernelDensity (no dependency)</li>
</ul>
</dd>
<dt>dependency <span class="classifier-delimiter">:</span> <span class="classifier">list of int,</span></dt>
<dd><p class="first">Length of 3 in the order (shape, loc, scale) contains:</p>
<ul class="last simple">
<li>None -&gt; no dependency</li>
<li>int -&gt; depends on particular dimension</li>
</ul>
</dd>
<dt>functions <span class="classifier-delimiter">:</span> <span class="classifier">list of str,</span></dt>
<dd><p class="first">Length of 3 in the order : (shape, loc, scale), usable options:</p>
<ul class="last simple">
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">f1:</th><td class="field-body"><span class="math notranslate">\(a + b * x^c\)</span></td>
</tr>
</tbody>
</table>
</li>
<li><table class="first docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">f2:</th><td class="field-body"><span class="math notranslate">\(a + b * e^{x * c}\)</span></td>
</tr>
</tbody>
</table>
</li>
<li>remark : in case of Lognormal_2 it is (sigma, loc=0, mu)</li>
</ul>
</dd>
</dl>
<p>and either number_of_bins or width_of_bins:</p>
<dl class="last docutils">
<dt>number_of_intervals <span class="classifier-delimiter">:</span> <span class="classifier">int,</span></dt>
<dd>Number of bins the data of this variable should be seperated for fits which depend
upon it. If the number of bins is given, the width of the bins is determined
automatically.</dd>
<dt>width_of_bins <span class="classifier-delimiter">:</span> <span class="classifier">float,</span></dt>
<dd>Width of the bins. When the width of the bins is given, the number of bins is
determined automatically.</dd>
</dl>
</div>
</dd></dl>

<dl class="staticmethod">
<dt id="viroconcom.fitting.Fit._append_params">
<em class="property">static </em><code class="descname">_append_params</code><span class="sig-paren">(</span><em>param_values</em>, <em>dependency</em>, <em>index</em>, <em>sample</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/viroconcom/fitting.html#Fit._append_params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viroconcom.fitting.Fit._append_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Distributions are being fitted and the results are appended to param_points.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>,</em>) – Name of distribution (Weibull, Lognormal, Normal, KernelDensity (no dependency)).</li>
<li><strong>param_values</strong> (<em>list of list</em><em>,</em>) – Contains lists that contain values for each param : order (shape, loc, scale).</li>
<li><strong>dependency</strong> (<em>list of int</em><em>,</em>) – Length of 3 in the order (shape, loc, scale) contains :
None -&gt; no dependency
int -&gt; depends on particular dimension</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>,</em>) – The current parameter as int in the order of (shape, loc, scale) (i.e. 0 -&gt; shape).</li>
<li><strong>sample</strong> (<em>list of float</em><em>,</em>) – Values that are used to fit the distribution.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The information of this single fit.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">BasicFit,</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="viroconcom.fitting.Fit._fit_distribution">
<em class="property">static </em><code class="descname">_fit_distribution</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/viroconcom/fitting.html#Fit._fit_distribution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viroconcom.fitting.Fit._fit_distribution" title="Permalink to this definition">¶</a></dt>
<dd><p>Fits the distribution and returns the parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>sample</strong> (<em>list of float</em><em>,</em>) – Raw data the distribution is fitted on.</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>,</em>) – Name of the distribution (Weibull, Lognormal_x, Normal, KernelDensity (no dependency)).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The computed parameters in the order of (shape, loc, scale).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first">tuple of ConstantParam,</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first last"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError,</span></code> – If the distribution is unknown.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="viroconcom.fitting.Fit._get_distribution">
<code class="descname">_get_distribution</code><span class="sig-paren">(</span><em>dimension</em>, <em>samples</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/viroconcom/fitting.html#Fit._get_distribution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viroconcom.fitting.Fit._get_distribution" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the fitted distribution, the dependency and information to visualize all fits for
this dimension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>dimension</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>,</em>) – Number of the variable, e.g. 0 –&gt; first variable (for exmaple sig. wave height).</li>
<li><strong>samples</strong> (<em>list of list</em><em>,</em>) – List that contains data to be fitted :
samples[0] -&gt; first variable (for example sig. wave height)
samples[1] -&gt; second variable
…</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><ul class="simple">
<li><strong>distribution</strong> (<em>Distribution,</em>) – The fitted distribution instance.</li>
<li><strong>dependency</strong> (<em>list of int,</em>) – List that contains the used dependencies for fitting.</li>
<li><strong>used_number_of_intervals</strong> (<em>list of int,</em>) – List with length of three that contains the used number of bins for each parameter
(shape, loc, scale).</li>
<li><strong>fit_inspection_data</strong> (<em>FitInspectionData,</em>) – Object that holds information about all fits in this dimension.</li>
</ul>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">NotImplementedError,</span></code> – If the the name of a dependent distribution was ‘KernelDensity’.</li>
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError,</span></code> – If not a good fit was found.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="viroconcom.fitting.Fit._get_fitting_values">
<em class="property">static </em><code class="descname">_get_fitting_values</code><span class="sig-paren">(</span><em>samples</em>, <em>name</em>, <em>dependency</em>, <em>index</em>, <em>number_of_intervals=None</em>, <em>bin_width=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/viroconcom/fitting.html#Fit._get_fitting_values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viroconcom.fitting.Fit._get_fitting_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns values for fitting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sample</strong> (<em>list of float</em><em>,</em>) – The current sample to fit.</li>
<li><strong>samples</strong> (<em>list of list</em><em>,</em>) – <dl class="docutils">
<dt>List that contains data to be fitted <span class="classifier-delimiter">:</span> <span class="classifier">samples[0] -&gt; first variable (i.e. wave height)</span></dt>
<dd>samples[1] -&gt; second variable
…</dd>
</dl>
</li>
<li><strong>name</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>,</em>) – Name of distribution (Weibull, Lognormal, Normal, KernelDensity (no dependency)).</li>
<li><strong>dependency</strong> (<em>list of int</em><em>,</em>) – <dl class="docutils">
<dt>Length of 3 in the order (shape, loc, scale) contains :</dt>
<dd>None -&gt; no dependency
int -&gt; depends on particular dimension</dd>
</dl>
</li>
<li><strong>index</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>,</em>) – Order : (shape, loc, scale) (i.e. 0 -&gt; shape).</li>
<li><strong>number_of_intervals</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/functions.html#int" title="(in Python v3.6)"><em>int</em></a><em>,</em>) – Number of distributions used to fit shape, loc, scale.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<p>For that case that number_of_intervals and also bin_width is given the parameter
number_of_intervals is used.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><ul class="simple">
<li><strong>interval_centers</strong> (<em>ndarray,</em>) – Array with length of the number of bins that contains the centers of the
calculated bins.</li>
<li><strong>dist_values</strong> (<em>list of list,</em>) – List with length of the number of intervals that contains for each bin center
the used samples for the current fit.</li>
<li><strong>param_values</strong> (<em>list of list,</em>) – List with length of three that contains for each parameter (shape, loc, scale)
a list with length of the number of bins that contains the calculated parameters.</li>
<li><strong>multiple_basic_fit</strong> (<em>list of BasicFit,</em>) – Contains information for each fit.</li>
</ul>
</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><ul class="first last simple">
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError,</span></code> – If the parameter number_of_intervals or bin_width was not specified.</li>
<li><code class="xref py py-exc docutils literal notranslate"><span class="pre">RuntimeError,</span></code> – If there was not enough data and the number of intervals was less than three.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="viroconcom.fitting.Fit._get_function">
<em class="property">static </em><code class="descname">_get_function</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/viroconcom/fitting.html#Fit._get_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#viroconcom.fitting.Fit._get_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the function.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>function_name</strong> (<a class="reference external" href="https://docs.python.org/3.6/library/stdtypes.html#str" title="(in Python v3.6)"><em>str</em></a><em>,</em>) – Options are ‘f1’, ‘f2’.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The actual function named function_name.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">func,</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ValueError,</span></code> – If the function is unknown.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
    <a id="sidebar-anchor"></a>
    

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/api/fitting.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, viroconcom.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.1.
    </div>
  </body>
</html>